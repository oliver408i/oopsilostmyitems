<!DOCTYPE html>

<head>
  % if not defined('hideHomepage'):
  <a href="/">Homepage</a>
  % end
  % if defined('showBack'):
  <a href="javascript:history.back()">Back</a>
  % end

  <link rel="stylesheet" href="/static/main.css">
  % if defined('additionalCss'):
  <link rel="stylesheet" href="{{additionalCss}}">
  % end
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script>
    if (document.cookie.indexOf('token=') === -1 && window.location.pathname != '/login' && window.location.pathname != '/register') {
      window.location.href = '/login';
    }
    if (window.location.pathname != '/login' && window.location.pathname != '/register') {
      fetch('/api/checktoken')
        .then((response) => {
          if (!response.ok) {
            window.location.href = '/login';
          }
        });
    }
  </script>
</head>
